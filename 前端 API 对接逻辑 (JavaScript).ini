前端 API 对接逻辑 (JavaScript)
在你的前端代码中，你需要编写三个核心函数来对接后端的三个接口。你可以直接参考下面的标准 fetch 写法（适用于任何框架）。

1. 自动发现接口 (Discovery)
场景：用户输入 URL，点击“获取信息”。 前端动作：

JavaScript
// 定义后端地址 (如果前端和后端在同一台机器开发)
const API_BASE = "http://192.168.110.70:9090/api/v1"; 

async function handleDiscovery(agentUrl) {
  try {
    const response = await fetch(`${API_BASE}/discover`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ url: agentUrl })
    });

    if (!response.ok) throw new Error("未找到 Agent");

    const agentData = await response.json();
    console.log("获取成功:", agentData);
    // TODO: 将 agentData 填充到你的前端表单里让用户确认
    return agentData;
  } catch (error) {
    alert("探测失败: " + error.message);
  }
}
2. 注册提交接口 (Register)
场景：用户检查表单无误后，点击“注册”。 前端动作：

JavaScript
async function handleRegister(formData) {
  // formData 是一个包含 name, description, tags 等字段的 JS 对象
  const response = await fetch(`${API_BASE}/register`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(formData)
  });

  const result = await response.json();
  // 拿到 task_id，准备轮询
  if (result.task_id) {
    startPolling(result.task_id);
  }
}